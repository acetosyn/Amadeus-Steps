<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IATA Search — Amadeus Demo</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="bg-gradient min-h-screen text-[var(--text)]">

<header class="max-w-6xl mx-auto px-6 pt-10 pb-6 text-center">
  <a href="{{ url_for('index') }}" class="logo-text block">AMADEUS — IATA Search</a>
  <p class="powered-by mt-1 text-sm">Search cities, airports, IATA/ICAO codes and view airport details + flights.</p>
</header>

<main class="max-w-6xl mx-auto px-6 pb-16">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">

    <!-- LEFT: Search -->
    <section class="space-y-4">
      <div class="relative">
        <input id="searchInput" type="text" autocomplete="off"
               placeholder="Try: Abuja, ABV, Lagos, LA, Kan…" 
               class="w-full rounded-2xl border border-transparent px-5 py-4 text-lg outline-none shadow-md transition transform hover:scale-[1.002] focus:scale-[1.002] focus:ring-4 focus:ring-orange-200 focus:border-transparent bg-white" />
        <div id="hint" class="absolute right-4 top-1/2 -translate-y-1/2 text-xs text-orange-700 font-semibold">live</div>
      </div>

      <div class="flex gap-3">
        <button id="allBtn" class="flex-1 rounded-xl border border-transparent bg-white/60 px-4 py-2 text-sm hover:backdrop-brightness-95">Show All Airports</button>
        <button id="clearBtn" class="rounded-xl border border-transparent bg-white/10 px-4 py-2 text-sm text-orange-800 hover:opacity-90">Clear</button>
      </div>

      <div id="leftInfo" class="mt-1 text-sm text-orange-900/80">Start typing — results appear instantly on the right.</div>

      <div id="allAirportsPanel" class="hidden mt-4 border border-orange-100 rounded-2xl bg-white/80 shadow-inner p-4 max-h-[520px] overflow-y-auto">
        <h3 class="text-sm font-semibold mb-3">All Airports</h3>
        <div id="allAirportsContainer" class="grid sm:grid-cols-2 gap-3"></div>
      </div>
    </section>

    <!-- RIGHT: Results (live) -->
    <aside id="resultsPanel" class="hidden rounded-3xl border border-white/30 p-5 bg-white/90 shadow-lg transform transition-all duration-300">
      <div class="flex items-center justify-between mb-3">
        <h2 class="text-lg font-bold text-orange-800" id="resultsTitle">Matches</h2>
        <div class="text-xs text-gray-500">Auto-updates</div>
      </div>
      <div id="resultsContainer" class="space-y-3"></div>
    </aside>

  </div>

  <!-- Detail panel -->
  <div id="detailPanel" class="hidden mt-8 border border-white/30 rounded-2xl bg-white/95 p-5 shadow-xl">
    <div class="flex flex-col md:flex-row justify-between items-start gap-6">
      <div>
        <h3 id="detailName" class="text-2xl font-extrabold text-orange-900"></h3>
        <div id="detailSub" class="text-sm text-gray-600 mt-1"></div>
        <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-gray-700">
          <div><strong>City:</strong> <span id="detailCity"></span></div>
          <div><strong>State:</strong> <span id="detailState"></span></div>
          <div><strong>Airlines (col):</strong> <span id="detailAirlines"></span></div>
          <div><strong>Destinations (col):</strong> <span id="detailDestinations"></span></div>
        </div>
        <div class="mt-3">
          <a id="mapsLink" class="text-sm underline" target="_blank">Open in Google Maps</a>
        </div>
      </div>

      <div class="text-right">
        <div class="text-xs text-gray-500">IATA</div>
        <div id="detailIATA" class="text-4xl font-extrabold text-orange-800"></div>
        <div class="text-xs text-gray-500 mt-1">ICAO</div>
        <div id="detailICAO" class="text-sm text-gray-700"></div>
      </div>
    </div>

    <div class="mt-6">
      <h4 class="font-semibold">Upcoming Flights (mock)</h4>
      <div id="flightsContainer" class="mt-2 text-sm"></div>
    </div>
  </div>

</main>

<footer class="text-center text-sm text-gray-600 pb-6">
  &copy; 2025
</footer>

<script src="{{ url_for('static', filename='js/app.js') }}"></script>
<script src="{{ url_for('static', filename='js/app2.js') }}"></script>
</body>
</html>
